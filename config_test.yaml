# Test configuration â€” small model for pipeline validation
# Use: python -m training.train_geometry --config config_test.yaml ...

project:
  name: BlenderModelTraining
  version: 0.1.0

tokenization:
  vocab_size: 8192
  coordinate_range: [-1.0, 1.0]
  max_faces: 2048
  max_vertices: 4096
  face_ordering: "z_curve"
  triangulate: true

processing:
  mesh_extraction:
    min_vertices: 8
    max_vertices: 100000
    coordinate_precision: 4
    normalize: true
  quality_filter:
    min_faces: 12
    deduplicate: true
    dedup_similarity_threshold: 0.95

models:
  geometry:
    architecture: "transformer"
    hidden_size: 256
    num_layers: 6
    num_heads: 4
    vocab_size: 8192
    max_sequence_length: 4608 # 512 faces * 9 tokens (truncated for speed)
    dropout: 0.1

training:
  batch_size: 2
  learning_rate: 3.0e-4
  weight_decay: 0.01
  warmup_steps: 100
  max_steps: 2000
  eval_every: 100
  save_every: 200
  gradient_accumulation_steps: 4
  mixed_precision: "fp32"
  optimizer: "adamw"
  scheduler: "cosine"
  augmentation:
    random_rotation: false
    random_scale: [1.0, 1.0]
    random_flip: false
    noise_std: 0.0

inference:
  device: "auto"
